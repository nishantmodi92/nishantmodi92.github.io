// src/App.tsx
import { motion } from "framer-motion";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Github } from "lucide-react";
import Particles from "react-tsparticles";
import { loadFull } from "tsparticles";
import { useState } from "react";
import emailjs from "@emailjs/browser";

const categories = ["All", "FinTech", "Health", "E-commerce", "EdTech", "Messaging"];

const projects = [
  {
    title: "ChatConnect ‚Äì Encrypted Messaging",
    metrics: "25% DAU growth | 99.9% crash-free",
    tech: "Kotlin, Jetpack Compose, Firebase, Hilt",
    category: "Messaging",
    github: "https://github.com/nishantmodi92/chatconnect-android",
    readme: "https://github.com/nishantmodi92/chatconnect-android/blob/main/README.md"
  },
  {
    title: "FinMate ‚Äì Digital Wallet & Expense Manager",
    metrics: "60% fraud reduction | Biometric secured",
    tech: "Kotlin, MVVM, Firebase, Retrofit, GPay API",
    category: "FinTech",
    github: "https://github.com/nishantmodi92/fintech-wallet",
    readme: "https://github.com/nishantmodi92/fintech-wallet/blob/main/README.md"
  },
  {
    title: "Healthify ‚Äì Fitness Tracker",
    metrics: "42% engagement boost | Gamified rewards",
    tech: "Java, Jetpack Compose, Google Fit API",
    category: "Health",
    github: "https://github.com/nishantmodi92/healthify",
    readme: "https://github.com/nishantmodi92/healthify/blob/main/README.md"
  },
  {
    title: "FoodDeliveryApp ‚Äì Real-Time Ordering",
    metrics: "30% faster cold start | 98% crash-free",
    tech: "Kotlin, Clean Architecture, Maps API, Firebase",
    category: "E-commerce",
    github: "https://github.com/nishantmodi92/food-delivery-android",
    readme: "https://github.com/nishantmodi92/food-delivery-android/blob/main/README.md"
  },
  {
    title: "EduPlay ‚Äì E-Learning App",
    metrics: "34% course completion growth",
    tech: "Kotlin, ExoPlayer, Firebase, Paging3",
    category: "EdTech",
    github: "https://github.com/nishantmodi92/e-learning-android",
    readme: "https://github.com/nishantmodi92/e-learning-android/blob/main/README.md"
  },
  {
    title: "GroceryEase ‚Äì Shopping & Delivery",
    metrics: "35% cart abandonment reduction",
    tech: "Kotlin, Jetpack Compose, Firebase, Maps API",
    category: "E-commerce",
    github: "https://github.com/nishantmodi92/GroceryEase",
    readme: "https://github.com/nishantmodi92/GroceryEase/blob/main/README.md"
  },
];

export default function App() {
  const [filter, setFilter] = useState("All");

  const filteredProjects =
    filter === "All" ? projects : projects.filter((p) => p.category === filter);

  const sendEmail = (e: any) => {
    e.preventDefault();
    emailjs
      .sendForm("your_service_id", "your_template_id", e.target, "your_public_key")
      .then(() => alert("Message Sent ‚úÖ"))
      .catch(() => alert("Error ‚ùå Please try again"));
  };

  return (
    <div className="bg-gray-950 text-white min-h-screen relative">
      {/* Background Particles */}
      <Particles
        id="tsparticles"
        init={loadFull}
        options={{
          background: { color: "#0f0f0f" },
          particles: { number: { value: 60 }, move: { enable: true, speed: 1 }, size: { value: 2 } },
        }}
        className="absolute inset-0 -z-10"
      />

      {/* Navbar */}
      <nav className="fixed top-0 w-full bg-gray-900/80 backdrop-blur-md p-4 flex justify-between shadow-lg z-50">
        <h1 className="text-xl font-bold text-purple-400">Nishant Modi</h1>
        <div className="space-x-6">
          <a href="#about" className="hover:text-purple-300">About</a>
          <a href="#skills" className="hover:text-purple-300">Skills</a>
          <a href="#projects" className="hover:text-purple-300">Projects</a>
          <a href="#achievements" className="hover:text-purple-300">Achievements</a>
          <a href="#contact" className="hover:text-purple-300">Contact</a>
        </div>
      </nav>

      {/* Hero */}
      <section className="h-screen flex flex-col justify-center items-center text-center px-6">
        <motion.h2 initial={{opacity:0, y:20}} animate={{opacity:1, y:0}}
          className="text-5xl font-extrabold mb-4 text-purple-300">
          üöÄ Building Scalable Android Apps
        </motion.h2>
        <p className="text-gray-300 max-w-2xl">
          5+ years in Jetpack Compose, Kotlin, Firebase & Clean Architecture. 
          Delivered 99.9% crash-free apps with 30% faster performance.
        </p>
      </section>

      {/* Skills Marquee */}
      <section id="skills" className="py-16 bg-gray-900">
        <marquee className="text-purple-300 font-semibold text-lg">
          Kotlin ‚Ä¢ Jetpack Compose ‚Ä¢ Clean Architecture ‚Ä¢ Firebase ‚Ä¢ MVVM ‚Ä¢ Modularization ‚Ä¢ Google APIs ‚Ä¢ CI/CD ‚Ä¢ Material 3 ‚Ä¢ MotionLayout ‚Ä¢ Secure Payments
        </marquee>
      </section>

      {/* Project Filters */}
      <section id="projects" className="py-20 px-6">
        <h3 className="text-3xl font-bold text-center mb-6">Highlighted Projects</h3>
        <div className="flex justify-center space-x-4 mb-10">
          {categories.map((cat) => (
            <Button
              key={cat}
              onClick={() => setFilter(cat)}
              className={`px-4 py-2 rounded-lg ${filter === cat ? "bg-purple-600" : "bg-gray-700"} `}
            >
              {cat}
            </Button>
          ))}
        </div>
        <div className="grid md:grid-cols-3 gap-8">
          {filteredProjects.map((p, i) => (
            <motion.div key={i} initial={{opacity:0, y:20}} whileInView={{opacity:1, y:0}}>
              <Card className="bg-gray-800 border border-gray-700 rounded-2xl shadow-xl hover:shadow-purple-500/40 transition">
                <CardContent className="p-6">
                  <h4 className="text-xl font-semibold text-purple-300">{p.title}</h4>
                  <p className="text-sm text-gray-400 mt-2">{p.tech}</p>
                  <p className="text-sm text-green-400 mt-2">{p.metrics}</p>
                  <div className="flex space-x-3 mt-4">
                    <Button asChild variant="secondary" className="bg-purple-600 hover:bg-purple-700 text-white">
                      <a href={p.github} target="_blank">GitHub</a>
                    </Button>
                    <Button asChild variant="outline" className="border-purple-400 text-purple-300">
                      <a href={p.readme} target="_blank">README</a>
                    </Button>
                  </div>
                </CardContent>
              </Card>
            </motion.div>
          ))}
        </div>
      </section>

      {/* GitHub Stats */}
      <section className="bg-gray-900 py-20 text-center">
        <h3 className="text-3xl font-bold mb-6">üìä GitHub Stats</h3>
        <img
          src="https://github-readme-stats.vercel.app/api?username=nishantmodi92&show_icons=true&theme=radical"
          alt="GitHub stats"
          className="mx-auto"
        />
      </section>

      {/* Achievements */}
      <section id="achievements" className="bg-gray-800 py-20 text-center px-6">
        <h3 className="text-3xl font-bold mb-6">üèÜ Achievements</h3>
        <ul className="space-y-3 text-gray-300">
          <li>‚Ä¢ EXL Employee of the Year 2023</li>
          <li>‚Ä¢ Reduced cold start by 30% using profiling</li>
          <li>‚Ä¢ Improved retention by 35% via UX flows</li>
          <li>‚Ä¢ 98%+ secure payment success rate</li>
        </ul>
      </section>

      {/* Contact Form */}
      <section id="contact" className="py-20 text-center px-6">
        <h3 className="text-3xl font-bold mb-4">üì© Get in Touch</h3>
        <form onSubmit={sendEmail} className="max-w-md mx-auto flex flex-col space-y-4">
          <input type="text" name="user_name" placeholder="Your Name" required
            className="p-3 rounded-lg bg-gray-800 border border-gray-600"/>
          <input type="email" name="user_email" placeholder="Your Email" required
            className="p-3 rounded-lg bg-gray-800 border border-gray-600"/>
          <textarea name="message" rows={4} placeholder="Message..." required
            className="p-3 rounded-lg bg-gray-800 border border-gray-600"/>
          <Button type="submit" className="bg-purple-600 hover:bg-purple-700 text-white">Send Message</Button>
        </form>
      </section>
    </div>
  );
}
